<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Crystals Collector Game</title>

  <!-- Linking JQuery -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <!-- Linking Google Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat|Roboto+Slab|Yellowtail' rel='stylesheet' type='text/css'>
  <!-- Linking CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">

</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-md-offset-2 col-md-8">
        <div class="jumbotron">
          <h2>The Crystal Collector Game</h2>
          <h2>Collect the number of crystals to match the random number</h2>
          <h2>Wins:
            <span id="user-wins">
              <strong>0</strong>
            </span>
          </h2>
          <h2>Losses:
            <span id="user-losses">
              <strong>0</strong>
            </span>
          </h2>
          <!-- Here is where our random number will go -->
          <h1>Number to guess: <span id="number-to-guess"></span></h1>
          <h1>Your total score: <span id="counter"></span></h1>
        </div>
      </div>
    </div>
  </div>
  <!-- We then wrap our crystal image in an id "#crystals" -->
  <div id="crystals">
<!--    <img id="crystal1" src="assets/images/citrine-3201605__480.jpg">
    <img id="crystal2" src="assets/images/precious-stone-3259727__480.jpg">
-->    
  </div>

  <script type="text/javascript">

    var targetNumber = 53;
  
    $("#number-to-guess").text(targetNumber);
  
    var crystals = $("#crystals");
  
    var counter = 0;
  
    //Create four crystals each with their own unique number value from 1-12.
  
    var numberOptions = [1, 2, 3, 4];

    var cpuChoice = Math.floor(Math.random() * 11);   

    var cpuSelection = numberOptions[cpuChoice];   

  
    // Next we create a "for loop" to create crystals for every numberOption.
    for (var i = 0; i < numberOptions.length; i++) {
  
      // For each iteration, we will create an imageCrystal
      var imageCrystal = $("<img>");
  
      // First each crystal will be given the class ".crystal-image".
      // This will allow the CSS to take effect.
      imageCrystal.addClass("crystal-image");
  
      // Each imageCrystal will be given a src link to the crystal image
      imageCrystal.attr("src", "assets/images/citrine-3201605__480.jpg");
//      imageCrystal.attr("src", "assets/images/precious-stone-3259727__480.jpg");
  
      // Each imageCrystal will be given a data attribute called data-crystalValue.
      // This data attribute will be set equal to the array value.
      imageCrystal.attr("data-crystalvalue", numberOptions[i]);
  
      // Lastly, each crystal image (with all it classes and attributes) will get added to the page.
      crystals.append(imageCrystal);
    }
  
    // This time, our click event applies to every single crystal on the page. Not just one.
    crystals.on("click", ".crystal-image", function() {
  
      // Determining the crystal's value requires us to extract the value from the data attribute.
      // Using the $(this) keyword specifies that we should be extracting the crystal value of the clicked crystal.
      // Using the .attr("data-crystalvalue") allows us to grab the value out of the "data-crystalvalue" attribute.
      // Since attributes on HTML elements are strings, we must convert it to an integer before adding to the counter
  
      var crystalValue = ($(this).attr("data-crystalvalue"));
      crystalValue = parseInt(crystalValue);
      // We then add the crystalValue to the user's "counter" which is a global variable.
      // Every click, from every crystal adds to the global counter.
      counter += crystalValue;
      $("#counter").text(counter);
  
      // All of the same game win-lose logic applies. So the rest remains unchanged.
  
      if (counter === targetNumber) {
        alert("You win!");
      }
  
      else if (counter >= targetNumber) {
        alert("You lose!!");
      }
  
    });  

  </script>
</body>
<!--     * 4 options for user choice: buttons with point values from 1 to 12, randomly assigned, no dups 
         * Random number generator returns goal amount; possible values range from 19 to 120
         * 2 actors:  computer and user
         * OnClick event on buttons triggers game play/tally increment
         * gameplay continues until user matches or exceeds randomly generated number

        1. load page with randomly generated number and assign point values to each button
        2. wait for onClick event
        3. evaluate button selection, add point value to running tally
                  if running tally matches randomly generated number
                      increment win count and start over, generate new random number and reset button values
                  else
                      if running tally > randomly generated number
                          increment loss count and start over, generate new random number and reset button values
                      else    
                          if running tally < randomly generated number
                              wait for another button click
  -->

</html>